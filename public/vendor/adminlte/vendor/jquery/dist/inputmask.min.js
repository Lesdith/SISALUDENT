!function(e){"function"==typeof define&&define.amd?define("inputmask",["inputmask.dependencyLib"],e):"object"==typeof exports?module.exports=e(require("./inputmask.dependencyLib")):e(window.dependencyLib||jQuery)}(function(e){function t(i,a){return this instanceof t?(e.isPlainObject(i)?a=i:(a=a||{},a.alias=i),this.el=void 0,this.opts=e.extend(!0,{},this.defaults,a),this.maskset=void 0,this.noMasksCache=a&&void 0!==a.definitions,this.userOptions=a||{},this.events={},this.dataAttribute="data-inputmask",this.isRTL=this.opts.numericInput,void n(this.opts.alias,a,this.opts)):new t(i,a)}function n(t,i,a){var o=a.aliases[t];return o?(o.alias&&n(o.alias,void 0,a),e.extend(!0,a,o),e.extend(!0,a,i),!0):(null===a.mask&&(a.mask=t),!1)}function i(n,i){function a(n,a,o){if(null!==n&&""!==n){if(1===n.length&&o.greedy===!1&&0!==o.repeat&&(o.placeholder=""),o.repeat>0||"*"===o.repeat||"+"===o.repeat){var r="*"===o.repeat?0:"+"===o.repeat?1:o.repeat;n=o.groupmarker.start+n+o.groupmarker.end+o.quantifiermarker.start+r+","+o.repeat+o.quantifiermarker.end}var s;return void 0===t.prototype.masksCache[n]||i===!0?(s={mask:n,maskToken:t.prototype.analyseMask(n,o),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:a,maskLength:void 0},i!==!0&&(t.prototype.masksCache[o.numericInput?n.split("").reverse().join(""):n]=s,s=e.extend(!0,{},t.prototype.masksCache[o.numericInput?n.split("").reverse().join(""):n]))):s=e.extend(!0,{},t.prototype.masksCache[o.numericInput?n.split("").reverse().join(""):n]),s}}var o;if(e.isFunction(n.mask)&&(n.mask=n.mask(n)),e.isArray(n.mask)){if(n.mask.length>1){n.keepStatic=null===n.keepStatic||n.keepStatic;var r=n.groupmarker.start;return e.each(n.numericInput?n.mask.reverse():n.mask,function(t,i){r.length>1&&(r+=n.groupmarker.end+n.alternatormarker+n.groupmarker.start),r+=void 0===i.mask||e.isFunction(i.mask)?i:i.mask}),r+=n.groupmarker.end,a(r,n.mask,n)}n.mask=n.mask.pop()}return n.mask&&(o=void 0===n.mask.mask||e.isFunction(n.mask.mask)?a(n.mask,n.mask,n):a(n.mask.mask,n.mask,n)),o}function a(n,i,o){function u(e,t,n){t=t||0;var i,a,r,s=[],l=0,c=p();W=void 0!==q?q.maxLength:void 0,W===-1&&(W=void 0);do e===!0&&d().validPositions[l]?(r=d().validPositions[l],a=r.match,i=r.locator.slice(),s.push(n===!0?r.input:n===!1?a.nativeDef:j(l,a))):(r=m(l,i,l-1),a=r.match,i=r.locator.slice(),(o.jitMasking===!1||l<c||"number"==typeof o.jitMasking&&isFinite(o.jitMasking)&&o.jitMasking>l)&&s.push(n===!1?a.nativeDef:j(l,a))),l++;while((void 0===W||l<W)&&(null!==a.fn||""!==a.def)||t>l);return""===s[s.length-1]&&s.pop(),d().maskLength=l+1,s}function d(){return i}function f(e){var t=d();t.buffer=void 0,e!==!0&&(t._buffer=void 0,t.validPositions={},t.p=0)}function p(e,t,n){var i=-1,a=-1,o=n||d().validPositions;void 0===e&&(e=-1);for(var r in o){var s=parseInt(r);o[s]&&(t||null!==o[s].match.fn)&&(s<=e&&(i=s),s>=e&&(a=s))}return i!==-1&&e-i>1||a<e?i:a}function v(t,n,i,a){function r(e){var t=d().validPositions[e];if(void 0!==t&&null===t.match.fn){var n=d().validPositions[e-1],i=d().validPositions[e+1];return void 0!==n&&void 0!==i}return!1}var s,l=t,c=e.extend(!0,{},d().validPositions),u=!1;for(d().p=t,s=n-1;s>=l;s--)void 0!==d().validPositions[s]&&(i!==!0&&(!d().validPositions[s].match.optionality&&r(s)||o.canClearPosition(d(),s,p(),a,o)===!1)||delete d().validPositions[s]);for(f(!0),s=l+1;s<=p();){for(;void 0!==d().validPositions[l];)l++;if(s<l&&(s=l+1),void 0===d().validPositions[s]&&A(s))s++;else{var v=m(s);u===!1&&c[l]&&c[l].match.def===v.match.def?(d().validPositions[l]=e.extend(!0,{},c[l]),d().validPositions[l].input=v.input,delete d().validPositions[s],s++):g(l,v.match.def)?_(l,v.input||j(s),!0)!==!1&&(delete d().validPositions[s],s++,u=!0):A(s)||(s++,l--),l++}}f(!0)}function h(e,t){for(var n,i=e,a=p(),r=d().validPositions[a]||y(0)[0],s=void 0!==r.alternation?r.locator[r.alternation].toString().split(","):[],l=0;l<i.length&&(n=i[l],!(n.match&&(o.greedy&&n.match.optionalQuantifier!==!0||(n.match.optionality===!1||n.match.newBlockMarker===!1)&&n.match.optionalQuantifier!==!0)&&(void 0===r.alternation||r.alternation!==n.alternation||void 0!==n.locator[r.alternation]&&w(n.locator[r.alternation].toString().split(","),s)))||t===!0&&(null!==n.match.fn||/[0-9a-bA-Z]/.test(n.match.def)));l++);return n}function m(e,t,n){return d().validPositions[e]||h(y(e,t?t.slice():t,n))}function k(e){return d().validPositions[e]?d().validPositions[e]:y(e)[0]}function g(e,t){for(var n=!1,i=y(e),a=0;a<i.length;a++)if(i[a].match&&i[a].match.def===t){n=!0;break}return n}function y(t,n,i){function a(n,i,r,s){function c(r,s,f){function h(t,n){var i=0===e.inArray(t,n.matches);return i||e.each(n.matches,function(e,a){if(a.isQuantifier===!0&&(i=h(t,n.matches[e-1])))return!1}),i}function k(t,n,i){var a,o;return(d().tests[t]||d().validPositions[t])&&e.each(d().tests[t]||[d().validPositions[t]],function(e,t){var r=void 0!==i?i:t.alternation,s=void 0!==t.locator[r]?t.locator[r].toString().indexOf(n):-1;(void 0===o||s<o)&&s!==-1&&(a=t,o=s)}),a?a.locator.slice((void 0!==i?i:a.alternation)+1):void 0!==i?k(t,n):void 0}function g(e,n){return null===e.match.fn&&null!==n.match.fn&&n.match.fn.test(e.match.def,d(),t,!1,o,!1)}if(u>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+d().mask;if(u===t&&void 0===r.matches)return p.push({match:r,locator:s.reverse(),cd:m}),!0;if(void 0!==r.matches){if(r.isGroup&&f!==r){if(r=c(n.matches[e.inArray(r,n.matches)+1],s))return!0}else if(r.isOptional){var y=r;if(r=a(r,i,s,f)){if(l=p[p.length-1].match,!h(l,y))return!0;v=!0,u=t}}else if(r.isAlternator){var b,P=r,E=[],C=p.slice(),w=s.length,_=i.length>0?i.shift():-1;if(_===-1||"string"==typeof _){var A,x=u,M=i.slice(),O=[];if("string"==typeof _)O=_.split(",");else for(A=0;A<P.matches.length;A++)O.push(A);for(var S=0;S<O.length;S++){if(A=parseInt(O[S]),p=[],i=k(u,A,w)||M.slice(),r=c(P.matches[A]||n.matches[A],[A].concat(s),f)||r,r!==!0&&void 0!==r&&O[O.length-1]<P.matches.length){var j=e.inArray(r,n.matches)+1;n.matches.length>j&&(r=c(n.matches[j],[j].concat(s.slice(1,s.length)),f),r&&(O.push(j.toString()),e.each(p,function(e,t){t.alternation=s.length-1})))}b=p.slice(),u=x,p=[];for(var D=0;D<b.length;D++){var T=b[D],I=!1;T.alternation=T.alternation||w;for(var G=0;G<E.length;G++){var L=E[G];if(("string"!=typeof _||e.inArray(T.locator[T.alternation].toString(),O)!==-1)&&(T.match.def===L.match.def||g(T,L))){I=T.match.nativeDef===L.match.nativeDef,T.alternation==L.alternation&&L.locator[L.alternation].toString().indexOf(T.locator[T.alternation])===-1&&(L.locator[L.alternation]=L.locator[L.alternation]+","+T.locator[T.alternation],L.alternation=T.alternation,null==T.match.fn&&(L.na=L.na||T.locator[T.alternation].toString(),L.na.indexOf(T.locator[T.alternation])===-1&&(L.na=L.na+","+T.locator[T.alternation])));break}}I||E.push(T)}}"string"==typeof _&&(E=e.map(E,function(t,n){if(isFinite(n)){var i,a=t.alternation,o=t.locator[a].toString().split(",");t.locator[a]=void 0,t.alternation=void 0;for(var r=0;r<o.length;r++)i=e.inArray(o[r],O)!==-1,i&&(void 0!==t.locator[a]?(t.locator[a]+=",",t.locator[a]+=o[r]):t.locator[a]=parseInt(o[r]),t.alternation=a);if(void 0!==t.locator[a])return t}})),p=C.concat(E),u=t,v=p.length>0,i=M.slice()}else r=c(P.matches[_]||n.matches[_],[_].concat(s),f);if(r)return!0}else if(r.isQuantifier&&f!==n.matches[e.inArray(r,n.matches)-1])for(var B=r,F=i.length>0?i.shift():0;F<(isNaN(B.quantifier.max)?F+1:B.quantifier.max)&&u<=t;F++){var N=n.matches[e.inArray(B,n.matches)-1];if(r=c(N,[F].concat(s),N)){if(l=p[p.length-1].match,l.optionalQuantifier=F>B.quantifier.min-1,h(l,N)){if(F>B.quantifier.min-1){v=!0,u=t;break}return!0}return!0}}else if(r=a(r,i,s,f))return!0}else u++}for(var f=i.length>0?i.shift():0;f<n.matches.length;f++)if(n.matches[f].isQuantifier!==!0){var h=c(n.matches[f],[f].concat(r),s);if(h&&u===t)return h;if(u>t)break}}function r(t){var n=[];return e.isArray(t)||(t=[t]),t.length>0&&(void 0===t[0].alternation?(n=h(t.slice()).locator.slice(),0===n.length&&(n=t[0].locator.slice())):e.each(t,function(e,t){if(""!==t.def)if(0===n.length)n=t.locator.slice();else for(var i=0;i<n.length;i++)t.locator[i]&&n[i].toString().indexOf(t.locator[i])===-1&&(n[i]+=","+t.locator[i])})),n}function s(e){return o.keepStatic&&t>0&&e.length>1+(""===e[e.length-1].match.def?1:0)&&e[0].match.optionality!==!0&&e[0].match.optionalQuantifier!==!0&&null===e[0].match.fn&&!/[0-9a-bA-Z]/.test(e[0].match.def)?[h(e)]:e}var l,c=d().maskToken,u=n?i:0,f=n?n.slice():[0],p=[],v=!1,m=n?n.join(""):"";if(t>-1){if(void 0===n){for(var k,g=t-1;void 0===(k=d().validPositions[g]||d().tests[g])&&g>-1;)g--;void 0!==k&&g>-1&&(f=r(k),m=f.join(""),u=g)}if(d().tests[t]&&d().tests[t][0].cd===m)return s(d().tests[t]);for(var y=f.shift();y<c.length;y++){var b=a(c[y],f,[y]);if(b&&u===t||u>t)break}}return(0===p.length||v)&&p.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:"",placeholder:""},locator:[],cd:m}),void 0!==n&&d().tests[t]?s(e.extend(!0,[],p)):(d().tests[t]=e.extend(!0,[],p),s(d().tests[t]))}function b(){return void 0===d()._buffer&&(d()._buffer=u(!1,1),void 0===d().buffer&&d()._buffer.slice()),d()._buffer}function P(e){return void 0!==d().buffer&&e!==!0||(d().buffer=u(!0,p(),!0)),d().buffer}function E(e,t,n){var i;if(e===!0)f(),e=0,t=n.length;else for(i=e;i<t;i++)delete d().validPositions[i];for(i=e;i<t;i++)f(!0),n[i]!==o.skipOptionalPartCharacter&&_(i,n[i],!0,!0)}function C(e,n,i){switch(o.casing||n.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var a=d().validPositions[i-1];e=0===i||a&&a.input===String.fromCharCode(t.keyCode.SPACE)?e.toUpperCase():e.toLowerCase()}return e}function w(t,n){for(var i=o.greedy?n:n.slice(0,1),a=!1,r=0;r<t.length;r++)if(e.inArray(t[r],i)!==-1){a=!0;break}return a}function _(n,i,a,r,s){function l(e){var t=z?e.begin-e.end>1||e.begin-e.end===1&&o.insertMode:e.end-e.begin>1||e.end-e.begin===1&&o.insertMode;return t&&0===e.begin&&e.end===d().maskLength?"full":t}function c(t,i,a){var s=!1;return e.each(y(t),function(c,u){for(var h=u.match,m=i?1:0,k="",g=h.cardinality;g>m;g--)k+=O(t-(g-1));if(i&&(k+=i),P(!0),s=null!=h.fn?h.fn.test(k,d(),t,a,o,l(n)):(i===h.def||i===o.skipOptionalPartCharacter)&&""!==h.def&&{c:h.placeholder||h.def,pos:t},s!==!1){var y=void 0!==s.c?s.c:i;y=y===o.skipOptionalPartCharacter&&null===h.fn?h.placeholder||h.def:y;var w=t,A=P();if(void 0!==s.remove&&(e.isArray(s.remove)||(s.remove=[s.remove]),e.each(s.remove.sort(function(e,t){return t-e}),function(e,t){v(t,t+1,!0)})),void 0!==s.insert&&(e.isArray(s.insert)||(s.insert=[s.insert]),e.each(s.insert.sort(function(e,t){return e-t}),function(e,t){_(t.pos,t.c,!0,r)})),s.refreshFromBuffer){var x=s.refreshFromBuffer;if(a=!0,E(x===!0?x:x.start,x.end,A),void 0===s.pos&&void 0===s.c)return s.pos=p(),!1;if(w=void 0!==s.pos?s.pos:t,w!==t)return s=e.extend(s,_(w,y,!0,r)),!1}else if(s!==!0&&void 0!==s.pos&&s.pos!==t&&(w=s.pos,E(t,w,P().slice()),w!==t))return s=e.extend(s,_(w,y,!0)),!1;return(s===!0||void 0!==s.pos||void 0!==s.c)&&(c>0&&f(!0),b(w,e.extend({},u,{input:C(y,h,w)}),r,l(n))||(s=!1),!1)}}),s}function u(t,n,i){var a,s,l,c,u,v,h,m,k=e.extend(!0,{},d().validPositions),g=!1,b=p();for(c=d().validPositions[b];b>=0;b--)if(l=d().validPositions[b],l&&void 0!==l.alternation){if(a=b,s=d().validPositions[a].alternation,c.locator[l.alternation]!==l.locator[l.alternation])break;c=l}if(void 0!==s){m=parseInt(a);var P=void 0!==c.locator[c.alternation||s]?c.locator[c.alternation||s]:h[0];P.length>0&&(P=P.split(",")[0]);var E=d().validPositions[m],C=d().validPositions[m-1];e.each(y(m,C?C.locator:void 0,m-1),function(a,l){h=l.locator[s]?l.locator[s].toString().split(","):[];for(var c=0;c<h.length;c++){var y=[],b=0,C=0,w=!1;if(P<h[c]&&(void 0===l.na||e.inArray(h[c],l.na.split(","))===-1)){d().validPositions[m]=e.extend(!0,{},l);var A=d().validPositions[m].locator;for(d().validPositions[m].locator[s]=parseInt(h[c]),null==l.match.fn?(E.input!==l.match.def&&(w=!0,E.generatedInput!==!0&&y.push(E.input)),C++,d().validPositions[m].generatedInput=!/[0-9a-bA-Z]/.test(l.match.def),d().validPositions[m].input=l.match.def):d().validPositions[m].input=E.input,u=m+1;u<p(void 0,!0)+1;u++)v=d().validPositions[u],v&&v.generatedInput!==!0&&/[0-9a-bA-Z]/.test(v.input)?y.push(v.input):u<t&&b++,delete d().validPositions[u];for(w&&y[0]===l.match.def&&y.shift(),f(!0),g=!0;y.length>0;){var x=y.shift();if(x!==o.skipOptionalPartCharacter&&!(g=_(p(void 0,!0)+1,x,!1,r,!0)))break}if(g){d().validPositions[m].locator=A;var M=p(t)+1;for(u=m+1;u<p()+1;u++)v=d().validPositions[u],(void 0===v||null==v.match.fn)&&u<t+(C-b)&&C++;t+=C-b,g=_(t>M?M:t,n,i,r,!0)}if(g)return!1;f(),d().validPositions=e.extend(!0,{},k)}}})}return g}function k(t,n){var i=d().validPositions[n];if(i)for(var a=i.locator,o=a.length,r=t;r<n;r++)if(void 0===d().validPositions[r]&&!A(r,!0)){var s=y(r),l=s[0],c=-1;e.each(s,function(e,t){for(var n=0;n<o&&void 0!==t.locator[n]&&w(t.locator[n].toString().split(","),a[n].toString().split(","));n++)c<n&&(c=n,l=t)}),b(r,e.extend({},l,{input:l.match.placeholder||l.match.def}),!0)}}function b(t,n,i,a){if(a||o.insertMode&&void 0!==d().validPositions[t]&&void 0===i){var r,s=e.extend(!0,{},d().validPositions),l=p(void 0,!0);for(r=t;r<=l;r++)delete d().validPositions[r];d().validPositions[t]=e.extend(!0,{},n);var c,u=!0,v=d().validPositions,h=!1,m=d().maskLength;for(r=c=t;r<=l;r++){var k=s[r];if(void 0!==k)for(var y=c;y<d().maskLength&&(null===k.match.fn&&v[r]&&(v[r].match.optionalQuantifier===!0||v[r].match.optionality===!0)||null!=k.match.fn);){if(y++,h===!1&&s[y]&&s[y].match.def===k.match.def)d().validPositions[y]=e.extend(!0,{},s[y]),d().validPositions[y].input=k.input,M(y),c=y,u=!0;else if(g(y,k.match.def)){var b=_(y,k.input,!0,!0);u=b!==!1,c=b.caret||b.insert?p():y,h=!0}else u=k.generatedInput===!0;if(d().maskLength<m&&(d().maskLength=m),u)break}if(!u)break}if(!u)return d().validPositions=e.extend(!0,{},s),f(!0),!1}else d().validPositions[t]=e.extend(!0,{},n);return f(!0),!0}function M(t){for(var n=t-1;n>-1&&!d().validPositions[n];n--);var i,a;for(n++;n<t;n++)void 0===d().validPositions[n]&&(o.jitMasking===!1||o.jitMasking>n)&&(a=y(n,m(n-1).locator,n-1).slice(),""===a[a.length-1].match.def&&a.pop(),i=h(a),i&&(i.match.def===o.radixPointDefinitionSymbol||!A(n,!0)||e.inArray(o.radixPoint,P())<n&&i.match.fn&&i.match.fn.test(j(n),d(),n,!1,o))&&(D=c(n,i.match.placeholder||(null==i.match.fn?i.match.def:""!==j(n)?j(n):P()[n]),!0),D!==!1&&(d().validPositions[D.pos||n].generatedInput=!0)))}a=a===!0;var S=n;void 0!==n.begin&&(S=z&&!l(n)?n.end:n.begin);var D=!1,T=e.extend(!0,{},d().validPositions);if(M(S),l(n)&&(F(void 0,t.keyCode.DELETE,n),S=d().p),S<d().maskLength&&(D=c(S,i,a),(!a||r===!0)&&D===!1)){var I=d().validPositions[S];if(!I||null!==I.match.fn||I.match.def!==i&&i!==o.skipOptionalPartCharacter){if((o.insertMode||void 0===d().validPositions[x(S)])&&!A(S,!0)){var G=y(S).slice();""===G[G.length-1].match.def&&G.pop();var L=h(G,!0);L&&null===L.match.fn&&(L=L.match.placeholder||L.match.def,c(S,L,a),d().validPositions[S].generatedInput=!0);for(var B=S+1,N=x(S);B<=N;B++)if(D=c(B,i,a),D!==!1){k(S,void 0!==D.pos?D.pos:B),S=B;break}}}else D={caret:x(S)}}return D===!1&&o.keepStatic&&!a&&s!==!0&&(D=u(S,i,a)),D===!0&&(D={pos:S}),e.isFunction(o.postValidation)&&D!==!1&&!a&&r!==!0&&(D=!!o.postValidation(P(!0),D,o)&&D),void 0===D.pos&&(D.pos=S),D===!1&&(f(!0),d().validPositions=e.extend(!0,{},T)),D}function A(e,t){var n;if(t?(n=m(e).match,""===n.def&&(n=k(e).match)):n=k(e).match,null!=n.fn)return n.fn;if(t!==!0&&e>-1){var i=y(e);return i.length>1+(""===i[i.length-1].match.def?1:0)}return!1}function x(e,t){var n=d().maskLength;if(e>=n)return n;for(var i=e;++i<n&&(t===!0&&(k(i).match.newBlockMarker!==!0||!A(i))||t!==!0&&!A(i)););return i}function M(e,t){var n,i=e;if(i<=0)return 0;for(;--i>0&&(t===!0&&k(i).match.newBlockMarker!==!0||t!==!0&&!A(i)&&(n=y(i),n.length<2||2===n.length&&""===n[1].match.def)););return i}function O(e){return void 0===d().validPositions[e]?j(e):d().validPositions[e].input}function S(t,n,i,a,r){if(a&&e.isFunction(o.onBeforeWrite)){var s=o.onBeforeWrite(a,n,i,o);if(s){if(s.refreshFromBuffer){var l=s.refreshFromBuffer;E(l===!0?l:l.start,l.end,s.buffer||n),n=P(!0)}void 0!==i&&(i=void 0!==s.caret?s.caret:i)}}t.inputmask._valueSet(n.join("")),void 0===i||void 0!==a&&"blur"===a.type?R(t,n,i):I(t,i),r===!0&&(X=!0,e(t).trigger("input"))}function j(e,t){if(t=t||k(e).match,void 0!==t.placeholder)return t.placeholder;if(null===t.fn){if(e>-1&&void 0===d().validPositions[e]){var n,i=y(e),a=[];if(i.length>1+(""===i[i.length-1].match.def?1:0))for(var r=0;r<i.length;r++)if(i[r].match.optionality!==!0&&i[r].match.optionalQuantifier!==!0&&(null===i[r].match.fn||void 0===n||i[r].match.fn.test(n.match.def,d(),e,!0,o)!==!1)&&(a.push(i[r]),null===i[r].match.fn&&(n=i[r]),a.length>1&&/[0-9a-bA-Z]/.test(a[0].match.def)))return o.placeholder.charAt(e%o.placeholder.length)}return t.def}return o.placeholder.charAt(e%o.placeholder.length)}function D(n,i,a,r,s,l){function c(){var e=!1,t=b().slice(h,x(h)).join("").indexOf(v);if(t!==-1&&!A(h)){e=!0;for(var n=b().slice(h,h+t),i=0;i<n.length;i++)if(" "!==n[i]){e=!1;break}}return e}var u=r.slice(),v="",h=0,k=void 0;if(f(),d().p=x(-1),!a)if(o.autoUnmask!==!0){var g=b().slice(0,x(-1)).join(""),y=u.join("").match(new RegExp("^"+t.escapeRegex(g),"g"));y&&y.length>0&&(u.splice(0,y.length*g.length),h=x(h))}else h=x(h);if(e.each(u,function(t,i){if(void 0!==i){var r=new e.Event("keypress");r.which=i.charCodeAt(0),v+=i;var s=p(void 0,!0),l=d().validPositions[s],u=m(s+1,l?l.locator.slice():void 0,s);if(!c()||a||o.autoUnmask){var g=a?t:null==u.match.fn&&u.match.optionality&&s+1<d().p?s+1:d().p;k=ee.keypressEvent.call(n,r,!0,!1,a,g),h=g+1,v=""}else k=ee.keypressEvent.call(n,r,!0,!1,!0,s+1);if(!a&&e.isFunction(o.onBeforeWrite)&&(k=o.onBeforeWrite(r,P(),k.forwardPosition,o),k&&k.refreshFromBuffer)){var y=k.refreshFromBuffer;E(y===!0?y:y.start,y.end,k.buffer),f(!0),k.caret&&(d().p=k.caret)}}}),i){var C=void 0,w=p();document.activeElement===n&&(s||k)&&(C=I(n).begin,s&&k===!1&&(C=x(p(C))),k&&l!==!0&&(C<w+1||w===-1)&&(C=o.numericInput&&void 0===k.caret?M(k.forwardPosition):k.forwardPosition)),S(n,P(),C,s||new e.Event("checkval"))}}function T(t){if(t&&void 0===t.inputmask)return t.value;var n=[],i=d().validPositions;for(var a in i)i[a].match&&null!=i[a].match.fn&&n.push(i[a].input);var r=0===n.length?"":(z?n.reverse():n).join("");if(e.isFunction(o.onUnMask)){var s=(z?P().slice().reverse():P()).join("");r=o.onUnMask(s,r,o)||r}return r}function I(e,t,n,i){function a(e){if(i!==!0&&z&&"number"==typeof e&&(!o.greedy||""!==o.placeholder)){var t=P().join("").length;e=t-e}return e}var s;if("number"!=typeof t)return e.setSelectionRange?(t=e.selectionStart,n=e.selectionEnd):window.getSelection?(s=window.getSelection().getRangeAt(0),s.commonAncestorContainer.parentNode!==e&&s.commonAncestorContainer!==e||(t=s.startOffset,n=s.endOffset)):document.selection&&document.selection.createRange&&(s=document.selection.createRange(),t=0-s.duplicate().moveStart("character",-e.inputmask._valueGet().length),n=t+s.text.length),{begin:a(t),end:a(n)};t=a(t),n=a(n),n="number"==typeof n?n:t;var l=parseInt(((e.ownerDocument.defaultView||window).getComputedStyle?(e.ownerDocument.defaultView||window).getComputedStyle(e,null):e.currentStyle).fontSize)*n;if(e.scrollLeft=l>e.scrollWidth?l:0,r||o.insertMode!==!1||t!==n||n++,e.setSelectionRange)e.selectionStart=t,e.selectionEnd=n;else if(window.getSelection){if(s=document.createRange(),void 0===e.firstChild||null===e.firstChild){var c=document.createTextNode("");e.appendChild(c)}s.setStart(e.firstChild,t<e.inputmask._valueGet().length?t:e.inputmask._valueGet().length),s.setEnd(e.firstChild,n<e.inputmask._valueGet().length?n:e.inputmask._valueGet().length),s.collapse(!0);var u=window.getSelection();u.removeAllRanges(),u.addRange(s)}else e.createTextRange&&(s=e.createTextRange(),s.collapse(!0),s.moveEnd("character",n),s.moveStart("character",t),s.select());R(e,void 0,{begin:t,end:n})}function G(t){var n,i,a=P(),o=a.length,r=p(),s={},l=d().validPositions[r],c=void 0!==l?l.locator.slice():void 0;for(n=r+1;n<a.length;n++)i=m(n,c,n-1),c=i.locator.slice(),s[n]=e.extend(!0,{},i);var u=l&&void 0!==l.alternation?l.locator[l.alternation]:void 0;for(n=o-1;n>r&&(i=s[n],(i.match.optionality||i.match.optionalQuantifier||u&&(u!==s[n].locator[l.alternation]&&null!=i.match.fn||null===i.match.fn&&i.locator[l.alternation]&&w(i.locator[l.alternation].toString().split(","),u.toString().split(","))&&""!==y(n)[0].def))&&a[n]===j(n,i.match));n--)o--;return t?{l:o,def:s[o]?s[o].match:void 0}:o}function L(e){for(var t=G(),n=e.length-1;n>t&&!A(n);n--);return e.splice(t,n+1-t),e}function B(t){if(e.isFunction(o.isComplete))return o.isComplete(t,o);if("*"!==o.repeat){var n=!1,i=G(!0),a=M(i.l);if(void 0===i.def||i.def.newBlockMarker||i.def.optionality||i.def.optionalQuantifier){n=!0;for(var r=0;r<=a;r++){var s=m(r).match;if(null!==s.fn&&void 0===d().validPositions[r]&&s.optionality!==!0&&s.optionalQuantifier!==!0||null===s.fn&&t[r]!==j(r,s)){n=!1;break}}}return n}}function F(n,i,a,r){function s(){if(o.keepStatic){for(var t=[],i=p(-1,!0),a=e.extend(!0,{},d().validPositions),r=d().validPositions[i];i>=0;i--){var s=d().validPositions[i];if(s){if(s.generatedInput!==!0&&/[0-9a-bA-Z]/.test(s.input)&&t.push(s.input),delete d().validPositions[i],void 0!==s.alternation&&s.locator[s.alternation]!==r.locator[s.alternation])break;r=s}}if(i>-1)for(d().p=x(p(-1,!0));t.length>0;){var l=new e.Event("keypress");l.which=t.pop().charCodeAt(0),ee.keypressEvent.call(n,l,!0,!1,!1,d().p)}else d().validPositions=e.extend(!0,{},a)}}if((o.numericInput||z)&&(i===t.keyCode.BACKSPACE?i=t.keyCode.DELETE:i===t.keyCode.DELETE&&(i=t.keyCode.BACKSPACE),z)){var l=a.end;a.end=a.begin,a.begin=l}i===t.keyCode.BACKSPACE&&(a.end-a.begin<1||o.insertMode===!1)?(a.begin=M(a.begin),void 0===d().validPositions[a.begin]||d().validPositions[a.begin].input!==o.groupSeparator&&d().validPositions[a.begin].input!==o.radixPoint||a.begin--):i===t.keyCode.DELETE&&a.begin===a.end&&(a.end=A(a.end,!0)?a.end+1:x(a.end)+1,void 0===d().validPositions[a.begin]||d().validPositions[a.begin].input!==o.groupSeparator&&d().validPositions[a.begin].input!==o.radixPoint||a.end++),v(a.begin,a.end,!1,r),r!==!0&&s();var c=p(a.begin,!0);c<a.begin?d().p=x(c):r!==!0&&(d().p=a.begin)}function N(t){function n(e){var n,i=document.createElement("span");for(var a in r)isNaN(a)&&a.indexOf("font")!==-1&&(i.style[a]=r[a]);i.style.textTransform=r.textTransform,i.style.letterSpacing=r.letterSpacing,i.style.position="absolute",i.style.height="auto",i.style.width="auto",i.style.visibility="hidden",i.style.whiteSpace="nowrap",document.body.appendChild(i);var o,s=t.inputmask._valueGet(),l=0;for(n=0,o=s.length;n<=o;n++){if(i.innerHTML+=s.charAt(n)||"_",i.offsetWidth>=e){var c=e-l,u=i.offsetWidth-e;i.innerHTML=s.charAt(n),c-=i.offsetWidth/3,n=c<u?n-1:n;break}l=i.offsetWidth}return document.body.removeChild(i),n}function i(){V.style.position="absolute",V.style.top=a.top+"px",V.style.left=a.left+"px",V.style.width=parseInt(t.offsetWidth)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth)+"px",V.style.height=parseInt(t.offsetHeight)-parseInt(r.paddingTop)-parseInt(r.paddingBottom)-parseInt(r.borderTopWidth)-parseInt(r.borderBottomWidth)+"px",V.style.lineHeight=V.style.height,V.style.zIndex=isNaN(r.zIndex)?-1:r.zIndex-1,V.style.webkitAppearance="textfield",V.style.mozAppearance="textfield",V.style.Appearance="textfield"}var a=e(t).position(),r=(t.ownerDocument.defaultView||window).getComputedStyle(t,null);t.parentNode,V=document.createElement("div"),document.body.appendChild(V);for(var s in r)isNaN(s)&&"cssText"!==s&&s.indexOf("webkit")==-1&&(V.style[s]=r[s]);t.style.backgroundColor="transparent",t.style.color="transparent",t.style.webkitAppearance="caret",t.style.mozAppearance="caret",t.style.Appearance="caret",i(),e(window).on("resize",function(n){a=e(t).position(),r=(t.ownerDocument.defaultView||window).getComputedStyle(t,null),i()}),e(t).on("click",function(e){return I(t,n(e.clientX)),ee.clickEvent.call(this,[e])}),e(t).on("keydown",function(e){e.shiftKey||o.insertMode===!1||setTimeout(function(){R(t)},0)})}function R(e,t,n){function i(){r||null!==l.fn&&void 0!==c.input?r&&null!==l.fn&&void 0!==c.input&&(r=!1,a+="</span>"):(r=!0,a+="<span class='im-static''>")}if(void 0!==V){t=t||P(),void 0===n?n=I(e):void 0===n.begin&&(n={begin:n,end:n});var a="",r=!1;if(""!=t){var s,l,c,u=0,f=p();do u===n.begin&&document.activeElement===e&&(a+="<span class='im-caret' style='border-right-width: 1px;border-right-style: solid;'></span>"),d().validPositions[u]?(c=d().validPositions[u],l=c.match,s=c.locator.slice(),i(),a+=c.input):(c=m(u,s,u-1),l=c.match,s=c.locator.slice(),(o.jitMasking===!1||u<f||"number"==typeof o.jitMasking&&isFinite(o.jitMasking)&&o.jitMasking>u)&&(i(),a+=j(u,l))),u++;while((void 0===W||u<W)&&(null!==l.fn||""!==l.def)||f>u)}V.innerHTML=a}}function K(t){function n(t,n){function i(t){function i(t){if(e.valHooks&&(void 0===e.valHooks[t]||e.valHooks[t].inputmaskpatch!==!0)){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},a=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(e){if(e.inputmask){if(e.inputmask.opts.autoUnmask)return e.inputmask.unmaskedvalue();var t=i(e);return p(void 0,void 0,e.inputmask.maskset.validPositions)!==-1||n.nullable!==!0?t:""}return i(e)},set:function(t,n){var i,o=e(t);return i=a(t,n),t.inputmask&&o.trigger("setvalue"),i},inputmaskpatch:!0}}}function a(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():p()!==-1||n.nullable!==!0?document.activeElement===this&&n.clearMaskOnLostFocus?(z?L(P().slice()).reverse():L(P().slice())).join(""):s.call(this):"":s.call(this)}function o(t){l.call(this,t),this.inputmask&&e(this).trigger("setvalue")}function r(t){Y.on(t,"mouseenter",function(t){var n=e(this),i=this,a=i.inputmask._valueGet();a!==P().join("")&&n.trigger("setvalue")})}var s,l;if(!t.inputmask.__valueGet){if(n.noValuePatching!==!0){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"==typeof"test".__proto__?function(e){return e.__proto__}:function(e){return e.constructor.prototype});var c=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t),"value"):void 0;c&&c.get&&c.set?(s=c.get,l=c.set,Object.defineProperty(t,"value",{get:a,set:o,configurable:!0})):"INPUT"!==t.tagName&&(s=function(){return this.textContent},l=function(e){this.textContent=e},Object.defineProperty(t,"value",{get:a,set:o,configurable:!0}))}else document.__lookupGetter__&&t.__lookupGetter__("value")&&(s=t.__lookupGetter__("value"),l=t.__lookupSetter__("value"),t.__defineGetter__("value",a),t.__defineSetter__("value",o));t.inputmask.__valueGet=s,t.inputmask.__valueSet=l}t.inputmask._valueGet=function(e){return z&&e!==!0?s.call(this.el).split("").reverse().join(""):s.call(this.el)},t.inputmask._valueSet=function(e,t){l.call(this.el,null===e||void 0===e?"":t!==!0&&z?e.split("").reverse().join(""):e)},void 0===s&&(s=function(){return this.value},l=function(e){this.value=e},i(t.type),r(t))}}var a=t.getAttribute("type"),o="INPUT"===t.tagName&&e.inArray(a,n.supportsInputType)!==-1||t.isContentEditable||"TEXTAREA"===t.tagName;if(!o)if("INPUT"===t.tagName){var r=document.createElement("input");r.setAttribute("type",a),o="text"===r.type,r=null}else o="partial";return o!==!1&&i(t),o}var i=n(t,o);if(i!==!1&&(q=t,U=e(q),("rtl"===q.dir||o.rightAlign)&&(q.style.textAlign="right"),("rtl"===q.dir||o.numericInput)&&(q.dir="ltr",q.removeAttribute("dir"),q.inputmask.isRTL=!0,z=!0),o.colorMask===!0&&N(q),c&&(q.hasOwnProperty("inputmode")&&(q.inputmode=o.inputmode,q.setAttribute("inputmode",o.inputmode)),"rtfm"===o.androidHack&&(o.colorMask!==!0&&N(q),q.type="password")),Y.off(q),i===!0&&(Y.on(q,"submit",ee.submitEvent),Y.on(q,"reset",ee.resetEvent),Y.on(q,"mouseenter",ee.mouseenterEvent),Y.on(q,"blur",ee.blurEvent),Y.on(q,"focus",ee.focusEvent),Y.on(q,"mouseleave",ee.mouseleaveEvent),o.colorMask!==!0&&Y.on(q,"click",ee.clickEvent),Y.on(q,"dblclick",ee.dblclickEvent),Y.on(q,"paste",ee.pasteEvent),Y.on(q,"dragdrop",ee.pasteEvent),Y.on(q,"drop",ee.pasteEvent),Y.on(q,"cut",ee.cutEvent),Y.on(q,"complete",o.oncomplete),Y.on(q,"incomplete",o.onincomplete),Y.on(q,"cleared",o.oncleared),o.inputEventOnly!==!0&&(Y.on(q,"keydown",ee.keydownEvent),Y.on(q,"keypress",ee.keypressEvent)),Y.on(q,"compositionstart",e.noop),Y.on(q,"compositionupdate",e.noop),Y.on(q,"compositionend",e.noop),Y.on(q,"keyup",e.noop),Y.on(q,"input",ee.inputFallBackEvent)),Y.on(q,"setvalue",ee.setValueEvent),b(),""!==q.inputmask._valueGet()||o.clearMaskOnLostFocus===!1||document.activeElement===q)){var a=e.isFunction(o.onBeforeMask)?o.onBeforeMask(q.inputmask._valueGet(),o)||q.inputmask._valueGet():q.inputmask._valueGet();D(q,!0,!1,a.split(""));var r=P().slice();H=r.join(""),B(r)===!1&&o.clearIncomplete&&f(),o.clearMaskOnLostFocus&&document.activeElement!==q&&(p()===-1?r=[]:L(r)),S(q,r),document.activeElement===q&&I(q,x(p()))}}i=i||this.maskset,o=o||this.opts;var H,U,W,V,Q,q=this.el,z=this.isRTL,Z=!1,X=!1,$=!1,J=!1,Y={on:function(n,i,a){var r=function(n){if(void 0===this.inputmask&&"FORM"!==this.nodeName){var i=e.data(this,"_inputmask_opts");i?new t(i).mask(this):Y.off(this)}else{if("setvalue"===n.type||!(this.disabled||this.readOnly&&!("keydown"===n.type&&n.ctrlKey&&67===n.keyCode||o.tabThrough===!1&&n.keyCode===t.keyCode.TAB))){switch(n.type){case"input":if(X===!0)return X=!1,n.preventDefault();break;case"keydown":Z=!1,X=!1;break;case"keypress":if(Z===!0)return n.preventDefault();Z=!0;break;case"click":if(s||l){var r=this,c=arguments;return setTimeout(function(){a.apply(r,c)},0),!1}}var u=a.apply(this,arguments);return u===!1&&(n.preventDefault(),n.stopPropagation()),u}n.preventDefault()}};n.inputmask.events[i]=n.inputmask.events[i]||[],n.inputmask.events[i].push(r),e.inArray(i,["submit","reset"])!==-1?null!=n.form&&e(n.form).on(i,r):e(n).on(i,r)},off:function(t,n){if(t.inputmask&&t.inputmask.events){var i;n?(i=[],i[n]=t.inputmask.events[n]):i=t.inputmask.events,e.each(i,function(n,i){for(;i.length>0;){var a=i.pop();e.inArray(n,["submit","reset"])!==-1?null!=t.form&&e(t.form).off(n,a):e(t).off(n,a)}delete t.inputmask.events[n]})}}},ee={keydownEvent:function(n){function i(e){var t=document.createElement("input"),n="on"+e,i=n in t;return i||(t.setAttribute(n,"return;"),i="function"==typeof t[n]),t=null,i}var a=this,r=e(a),s=n.keyCode,c=I(a);if(s===t.keyCode.BACKSPACE||s===t.keyCode.DELETE||l&&s===t.keyCode.BACKSPACE_SAFARI||n.ctrlKey&&s===t.keyCode.X&&!i("cut"))n.preventDefault(),F(a,s,c),S(a,P(!0),d().p,n,a.inputmask._valueGet()!==P().join("")),a.inputmask._valueGet()===b().join("")?r.trigger("cleared"):B(P())===!0&&r.trigger("complete");else if(s===t.keyCode.END||s===t.keyCode.PAGE_DOWN){n.preventDefault();var u=x(p());o.insertMode||u!==d().maskLength||n.shiftKey||u--,I(a,n.shiftKey?c.begin:u,u,!0)}else s===t.keyCode.HOME&&!n.shiftKey||s===t.keyCode.PAGE_UP?(n.preventDefault(),I(a,0,n.shiftKey?c.begin:0,!0)):(o.undoOnEscape&&s===t.keyCode.ESCAPE||90===s&&n.ctrlKey)&&n.altKey!==!0?(D(a,!0,!1,H.split("")),r.trigger("click")):s!==t.keyCode.INSERT||n.shiftKey||n.ctrlKey?o.tabThrough===!0&&s===t.keyCode.TAB?(n.shiftKey===!0?(null===k(c.begin).match.fn&&(c.begin=x(c.begin)),c.end=M(c.begin,!0),c.begin=M(c.end,!0)):(c.begin=x(c.begin,!0),c.end=x(c.begin,!0),c.end<d().maskLength&&c.end--),c.begin<d().maskLength&&(n.preventDefault(),I(a,c.begin,c.end))):n.shiftKey||o.insertMode===!1&&(s===t.keyCode.RIGHT?setTimeout(function(){var e=I(a);I(a,e.begin)},0):s===t.keyCode.LEFT&&setTimeout(function(){var e=I(a);I(a,z?e.begin+1:e.begin-1)},0)):(o.insertMode=!o.insertMode,I(a,o.insertMode||c.begin!==d().maskLength?c.begin:c.begin-1));
o.onKeyDown.call(this,n,P(),I(a).begin,o),$=e.inArray(s,o.ignorables)!==-1},keypressEvent:function(n,i,a,r,s){var l=this,c=e(l),u=n.which||n.charCode||n.keyCode;if(!(i===!0||n.ctrlKey&&n.altKey)&&(n.ctrlKey||n.metaKey||$))return u===t.keyCode.ENTER&&H!==P().join("")&&(H=P().join(""),setTimeout(function(){c.trigger("change")},0)),!0;if(u){46===u&&n.shiftKey===!1&&","===o.radixPoint&&(u=44);var p,v=i?{begin:s,end:s}:I(l),h=String.fromCharCode(u);d().writeOutBuffer=!0;var m=_(v,h,r);if(m!==!1&&(f(!0),p=void 0!==m.caret?m.caret:i?m.pos+1:x(m.pos),d().p=p),a!==!1){var k=this;if(setTimeout(function(){o.onKeyValidation.call(k,u,m,o)},0),d().writeOutBuffer&&m!==!1){var g=P();S(l,g,o.numericInput&&void 0===m.caret?M(p):p,n,i!==!0),i!==!0&&setTimeout(function(){B(g)===!0&&c.trigger("complete")},0)}}if(n.preventDefault(),i)return m.forwardPosition=p,m}},pasteEvent:function(t){var n,i=this,a=t.originalEvent||t,r=e(i),s=i.inputmask._valueGet(!0),l=I(i);z&&(n=l.end,l.end=l.begin,l.begin=n);var c=s.substr(0,l.begin),u=s.substr(l.end,s.length);if(c===(z?b().reverse():b()).slice(0,l.begin).join("")&&(c=""),u===(z?b().reverse():b()).slice(l.end).join("")&&(u=""),z&&(n=c,c=u,u=n),window.clipboardData&&window.clipboardData.getData)s=c+window.clipboardData.getData("Text")+u;else{if(!a.clipboardData||!a.clipboardData.getData)return!0;s=c+a.clipboardData.getData("text/plain")+u}var d=s;if(e.isFunction(o.onBeforePaste)){if(d=o.onBeforePaste(s,o),d===!1)return t.preventDefault();d||(d=s)}return D(i,!1,!1,z?d.split("").reverse():d.toString().split("")),S(i,P(),x(p()),t,H!==P().join("")),B(P())===!0&&r.trigger("complete"),t.preventDefault()},inputFallBackEvent:function(n){var i=this,a=i.inputmask._valueGet();if(P().join("")!==a){var o=I(i);if(a=a.replace(new RegExp("("+t.escapeRegex(b().join(""))+")*"),""),s){var r=a.replace(P().join(""),"");if(1===r.length){var l=new e.Event("keypress");return l.which=r.charCodeAt(0),ee.keypressEvent.call(i,l,!0,!0,!1,d().validPositions[o.begin-1]?o.begin:o.begin-1),!1}}if(o.begin>a.length&&(I(i,a.length),o=I(i)),P().length-a.length!==1||a.charAt(o.begin)===P()[o.begin]||a.charAt(o.begin+1)===P()[o.begin]||A(o.begin)){for(var c=p()+1,u=b().join("");null===a.match(t.escapeRegex(u)+"$");)u=u.slice(1);a=a.replace(u,""),a=a.split(""),D(i,!0,!1,a,n,o.begin<c),B(P())===!0&&e(i).trigger("complete")}else n.keyCode=t.keyCode.BACKSPACE,ee.keydownEvent.call(i,n);n.preventDefault()}},setValueEvent:function(t){var n=this,i=n.inputmask._valueGet();D(n,!0,!1,(e.isFunction(o.onBeforeMask)?o.onBeforeMask(i,o)||i:i).split("")),H=P().join(""),(o.clearMaskOnLostFocus||o.clearIncomplete)&&n.inputmask._valueGet()===b().join("")&&n.inputmask._valueSet("")},focusEvent:function(e){var t=this,n=t.inputmask._valueGet();o.showMaskOnFocus&&(!o.showMaskOnHover||o.showMaskOnHover&&""===n)&&(t.inputmask._valueGet()!==P().join("")?S(t,P(),x(p())):J===!1&&I(t,x(p()))),o.positionCaretOnTab===!0&&ee.clickEvent.apply(t,[e,!0]),H=P().join("")},mouseleaveEvent:function(e){var t=this;if(J=!1,o.clearMaskOnLostFocus&&document.activeElement!==t){var n=P().slice(),i=t.inputmask._valueGet();i!==t.getAttribute("placeholder")&&""!==i&&(p()===-1&&i===b().join("")?n=[]:L(n),S(t,n))}},clickEvent:function(t,n){function i(t){if(""!==o.radixPoint){var n=d().validPositions;if(void 0===n[t]||n[t].input===j(t)){if(t<x(-1))return!0;var i=e.inArray(o.radixPoint,P());if(i!==-1){for(var a in n)if(i<a&&n[a].input!==j(a))return!1;return!0}}}return!1}var a=this;setTimeout(function(){if(document.activeElement===a){var t=I(a);if(n&&(t.begin=t.end),t.begin===t.end)switch(o.positionCaretOnClick){case"none":break;case"radixFocus":if(i(t.begin)){var r=e.inArray(o.radixPoint,P().join(""));I(a,o.numericInput?x(r):r);break}default:var s=t.begin,l=p(s,!0),c=x(l);if(s<c)I(a,A(s)||A(s-1)?s:x(s));else{var u=j(c);(""!==u&&P()[c]!==u&&k(c).match.optionalQuantifier!==!0||!A(c)&&k(c).match.def===u)&&(c=x(c)),I(a,c)}}}},0)},dblclickEvent:function(e){var t=this;setTimeout(function(){I(t,0,x(p()))},0)},cutEvent:function(n){var i=this,a=e(i),o=I(i),r=n.originalEvent||n,s=window.clipboardData||r.clipboardData,l=z?P().slice(o.end,o.begin):P().slice(o.begin,o.end);s.setData("text",z?l.reverse().join(""):l.join("")),document.execCommand&&document.execCommand("copy"),F(i,t.keyCode.DELETE,o),S(i,P(),d().p,n,H!==P().join("")),i.inputmask._valueGet()===b().join("")&&a.trigger("cleared")},blurEvent:function(t){var n=e(this),i=this;if(i.inputmask){var a=i.inputmask._valueGet(),r=P().slice();H!==r.join("")&&setTimeout(function(){n.trigger("change"),H=r.join("")},0),""!==a&&(o.clearMaskOnLostFocus&&(p()===-1&&a===b().join("")?r=[]:L(r)),B(r)===!1&&(setTimeout(function(){n.trigger("incomplete")},0),o.clearIncomplete&&(f(),r=o.clearMaskOnLostFocus?[]:b().slice())),S(i,r,void 0,t))}},mouseenterEvent:function(e){var t=this;J=!0,document.activeElement!==t&&o.showMaskOnHover&&t.inputmask._valueGet()!==P().join("")&&S(t,P())},submitEvent:function(e){H!==P().join("")&&U.trigger("change"),o.clearMaskOnLostFocus&&p()===-1&&q.inputmask._valueGet&&q.inputmask._valueGet()===b().join("")&&q.inputmask._valueSet(""),o.removeMaskOnSubmit&&(q.inputmask._valueSet(q.inputmask.unmaskedvalue(),!0),setTimeout(function(){S(q,P())},0))},resetEvent:function(e){setTimeout(function(){U.trigger("setvalue")},0)}};if(void 0!==n)switch(n.action){case"isComplete":return q=n.el,B(P());case"unmaskedvalue":return void 0!==q&&void 0===n.value||(Q=n.value,Q=(e.isFunction(o.onBeforeMask)?o.onBeforeMask(Q,o)||Q:Q).split(""),D(void 0,!1,!1,z?Q.reverse():Q),e.isFunction(o.onBeforeWrite)&&o.onBeforeWrite(void 0,P(),0,o)),T(q);case"mask":K(q);break;case"format":return Q=(e.isFunction(o.onBeforeMask)?o.onBeforeMask(n.value,o)||n.value:n.value).split(""),D(void 0,!1,!1,z?Q.reverse():Q),e.isFunction(o.onBeforeWrite)&&o.onBeforeWrite(void 0,P(),0,o),n.metadata?{value:z?P().slice().reverse().join(""):P().join(""),metadata:a.call(this,{action:"getmetadata"},i,o)}:z?P().slice().reverse().join(""):P().join("");case"isValid":n.value?(Q=n.value.split(""),D(void 0,!1,!0,z?Q.reverse():Q)):n.value=P().join("");for(var te=P(),ne=G(),ie=te.length-1;ie>ne&&!A(ie);ie--);return te.splice(ne,ie+1-ne),B(te)&&n.value===P().join("");case"getemptymask":return b().join("");case"remove":if(q){U=e(q),q.inputmask._valueSet(T(q)),Y.off(q);var ae;Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?(ae=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(q),"value"),ae&&q.inputmask.__valueGet&&Object.defineProperty(q,"value",{get:q.inputmask.__valueGet,set:q.inputmask.__valueSet,configurable:!0})):document.__lookupGetter__&&q.__lookupGetter__("value")&&q.inputmask.__valueGet&&(q.__defineGetter__("value",q.inputmask.__valueGet),q.__defineSetter__("value",q.inputmask.__valueSet)),q.inputmask=void 0}return q;case"getmetadata":if(e.isArray(i.metadata)){var oe=u(!0,0,!1).join("");return e.each(i.metadata,function(e,t){if(t.mask===oe)return oe=t,!1}),oe}return i.metadata}}var o=navigator.userAgent,r=/mobile/i.test(o),s=/iemobile/i.test(o),l=/iphone/i.test(o)&&!s,c=/android/i.test(o)&&!s;return t.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:e.noop,onBeforeMask:null,onBeforePaste:function(t,n){return e.isFunction(n.onBeforeMask)?n.onBeforeMask(t,n):t},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",radixPointDefinitionSymbol:void 0,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","password"],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁёÀ-ÿµ]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-zА-яЁёÀ-ÿµ]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:e.noop,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,androidHack:!1},masksCache:{},mask:function(o){function r(t,i,a,o){function r(e,n){n=void 0!==n?n:t.getAttribute(o+"-"+e),null!==n&&("string"==typeof n&&(0===e.indexOf("on")?n=window[n]:"false"===n?n=!1:"true"===n&&(n=!0)),a[e]=n)}var s,l,c,u,d=t.getAttribute(o);if(d&&""!==d&&(d=d.replace(new RegExp("'","g"),'"'),l=JSON.parse("{"+d+"}")),l){c=void 0;for(u in l)if("alias"===u.toLowerCase()){c=l[u];break}}r("alias",c),a.alias&&n(a.alias,a,i);for(s in i){if(l){c=void 0;for(u in l)if(u.toLowerCase()===s.toLowerCase()){c=l[u];break}}r(s,c)}return e.extend(!0,i,a),i}var s=this;return"string"==typeof o&&(o=document.getElementById(o)||document.querySelectorAll(o)),o=o.nodeName?[o]:o,e.each(o,function(n,o){var l=e.extend(!0,{},s.opts);r(o,l,e.extend(!0,{},s.userOptions),s.dataAttribute);var c=i(l,s.noMasksCache);void 0!==c&&(void 0!==o.inputmask&&o.inputmask.remove(),o.inputmask=new t,o.inputmask.opts=l,o.inputmask.noMasksCache=s.noMasksCache,o.inputmask.userOptions=e.extend(!0,{},s.userOptions),o.inputmask.el=o,o.inputmask.maskset=c,e.data(o,"_inputmask_opts",l),a.call(o.inputmask,{action:"mask"}))}),o&&o[0]?o[0].inputmask||this:this},option:function(t,n){return"string"==typeof t?this.opts[t]:"object"==typeof t?(e.extend(this.userOptions,t),this.el&&n!==!0&&this.mask(this.el),this):void 0},unmaskedvalue:function(e){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"unmaskedvalue",value:e})},remove:function(){return a.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"getmetadata"})},isValid:function(e){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"isValid",value:e})},format:function(e,t){return this.maskset=this.maskset||i(this.opts,this.noMasksCache),a.call(this,{action:"format",value:e,metadata:t})},analyseMask:function(t,n){function i(e,t,n,i){this.matches=[],this.openGroup=e||!1,this.isGroup=e||!1,this.isOptional=t||!1,this.isQuantifier=n||!1,this.isAlternator=i||!1,this.quantifier={min:1,max:1}}function a(t,i,a){var o=n.definitions[i];a=void 0!==a?a:t.matches.length;var r=t.matches[a-1];if(o&&!m){o.placeholder=e.isFunction(o.placeholder)?o.placeholder(n):o.placeholder;for(var s=o.prevalidator,l=s?s.length:0,c=1;c<o.cardinality;c++){var u=l>=c?s[c-1]:[],d=u.validator,f=u.cardinality;t.matches.splice(a++,0,{fn:d?"string"==typeof d?new RegExp(d):new function(){this.test=d}:new RegExp("."),cardinality:f?f:1,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==(o.definitionSymbol||i),casing:o.casing,def:o.definitionSymbol||i,placeholder:o.placeholder,nativeDef:i}),r=t.matches[a-1]}t.matches.splice(a++,0,{fn:o.validator?"string"==typeof o.validator?new RegExp(o.validator):new function(){this.test=o.validator}:new RegExp("."),cardinality:o.cardinality,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==(o.definitionSymbol||i),casing:o.casing,def:o.definitionSymbol||i,placeholder:o.placeholder,nativeDef:i})}else t.matches.splice(a++,0,{fn:null,cardinality:0,optionality:t.isOptional,newBlockMarker:void 0===r||r.def!==i,casing:null,def:n.staticDefinitionSymbol||i,placeholder:void 0!==n.staticDefinitionSymbol?i:void 0,nativeDef:i}),m=!1}function o(t){t&&t.matches&&e.each(t.matches,function(e,i){var r=t.matches[e+1];(void 0===r||void 0===r.matches||r.isQuantifier===!1)&&i&&i.isGroup&&(i.isGroup=!1,a(i,n.groupmarker.start,0),i.openGroup!==!0&&a(i,n.groupmarker.end)),o(i)})}function r(){if(g.length>0){if(d=g[g.length-1],a(d,c),d.isAlternator){f=g.pop();for(var e=0;e<f.matches.length;e++)f.matches[e].isGroup=!1;g.length>0?(d=g[g.length-1],d.matches.push(f)):k.matches.push(f)}}else a(k,c)}function s(e){function t(e){return e===n.optionalmarker.start?e=n.optionalmarker.end:e===n.optionalmarker.end?e=n.optionalmarker.start:e===n.groupmarker.start?e=n.groupmarker.end:e===n.groupmarker.end&&(e=n.groupmarker.start),e}e.matches=e.matches.reverse();for(var i in e.matches){var a=parseInt(i);if(e.matches[i].isQuantifier&&e.matches[a+1]&&e.matches[a+1].isGroup){var o=e.matches[i];e.matches.splice(i,1),e.matches.splice(a+1,0,o)}void 0!==e.matches[i].matches?e.matches[i]=s(e.matches[i]):e.matches[i]=t(e.matches[i])}return e}for(var l,c,u,d,f,p,v,h=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,m=!1,k=new i,g=[],y=[];l=h.exec(t);)if(c=l[0],m)r();else switch(c.charAt(0)){case n.escapeChar:m=!0;break;case n.optionalmarker.end:case n.groupmarker.end:if(u=g.pop(),u.openGroup=!1,void 0!==u)if(g.length>0){if(d=g[g.length-1],d.matches.push(u),d.isAlternator){f=g.pop();for(var b=0;b<f.matches.length;b++)f.matches[b].isGroup=!1;g.length>0?(d=g[g.length-1],d.matches.push(f)):k.matches.push(f)}}else k.matches.push(u);else r();break;case n.optionalmarker.start:g.push(new i(!1,!0));break;case n.groupmarker.start:g.push(new i(!0));break;case n.quantifiermarker.start:var P=new i(!1,!1,!0);c=c.replace(/[{}]/g,"");var E=c.split(","),C=isNaN(E[0])?E[0]:parseInt(E[0]),w=1===E.length?C:isNaN(E[1])?E[1]:parseInt(E[1]);if("*"!==w&&"+"!==w||(C="*"===w?0:1),P.quantifier={min:C,max:w},g.length>0){var _=g[g.length-1].matches;l=_.pop(),l.isGroup||(v=new i(!0),v.matches.push(l),l=v),_.push(l),_.push(P)}else l=k.matches.pop(),l.isGroup||(v=new i(!0),v.matches.push(l),l=v),k.matches.push(l),k.matches.push(P);break;case n.alternatormarker:g.length>0?(d=g[g.length-1],p=d.matches.pop()):p=k.matches.pop(),p.isAlternator?g.push(p):(f=new i(!1,!1,!1,!0),f.matches.push(p),g.push(f));break;default:r()}for(;g.length>0;)u=g.pop(),k.matches.push(u);return k.matches.length>0&&(o(k),y.push(k)),n.numericInput&&s(y[0]),y}},t.extendDefaults=function(n){e.extend(!0,t.prototype.defaults,n)},t.extendDefinitions=function(n){e.extend(!0,t.prototype.defaults.definitions,n)},t.extendAliases=function(n){e.extend(!0,t.prototype.defaults.aliases,n)},t.format=function(e,n,i){return t(n).format(e,i)},t.unmask=function(e,n){return t(n).unmaskedvalue(e)},t.isValid=function(e,n){return t(n).isValid(e)},t.remove=function(t){e.each(t,function(e,t){t.inputmask&&t.inputmask.remove()})},t.escapeRegex=function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},t.keyCode={ALT:18,BACKSPACE:8,BACKSPACE_SAFARI:127,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91,X:88},window.Inputmask=t,t});
//# sourceMappingURL=inputmask.min.js.map